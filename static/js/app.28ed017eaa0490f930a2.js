webpackJsonp([1],[,,,,,,,,,,,,function(e,t,r){"use strict";var s=r(1),a=r(65),n=r(60),l=r.n(n),i=r(59),o=r.n(i);s.default.use(a.a);var u;t.a=u=new a.a({routes:[{path:"/",name:"login",component:l.a}]}),u.beforeEach(function(e,t,r){"login"===e.name?r():"0"===localStorage.getItem("isLogin")?(u.addRoutes([{path:"/home/newForm",name:"newForm",component:o.a}]),localStorage.setItem("isLogin","1"),console.log(u.currentRoute),r("/home/newForm")):r()})},function(e,t){},,function(e,t,r){function s(e){r(52)}var a=r(0)(r(16),r(62),s,null,null);e.exports=a.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(22),a=r.n(s),n=r(21),l=r.n(n);t.default={name:"myForm",data:function(){return{isMuli:!1,isValid:0,noMuli:["input","textarea","date","datetime","time"],selectMess:{input:"文本框",textarea:"文本域",select:"下拉框",radio:"单选框",checkbox:"多选框",date:"日期",time:"时间",datetime:"日期+时间"},typeMess:{string:"字符串",number:"数字",integer:"整数",float:"浮点数",email:"email",url:"url链接",regexp:"正则表达式"},validateMess:{email:"请输入正确的邮箱",url:"请输入合法链接",date:"请输入正确的日期",datetime:"请输入正确的日期",time:"请输入正确的时间",float:"请输入正确的浮点数",integer:"请输入整数",number:"请输入数字"},format:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"},oneField:{label:"",name:"",type:"",require:"0",rules:"",min:"",max:"",rows:3,format:"",pattern:"",patternMess:""},formDynamic:{items:[{label:"爱好",name:"favorite",type:"checkbox",rules:{required:!0,type:"array",message:"必填",min:1,trigger:"change"},option:[{text:"aaa",value:1},{text:"bbb",value:2}],value:[]}]},inputDynamic:{items:[{text:"",value:""}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){return e?t.$Message.success("提交成功!"):t.$Message.error("表单验证失败!"),!1})},handleValidate:function(e){var t=this;return this.$refs[e].validate(function(e){e&&(t.isValid+=1)})},handleReset:function(e){this.$refs[e].resetFields()},handleAdd:function(){var e=1;if(this.$options.methods.handleValidate.call(this,"newForm"),"show"==this.$refs.regexpForm.$el.style.display&&(this.$options.methods.handleValidate.call(this,"regexpForm"),e+=1),"show"==this.$refs.muDynamic.$el.style.display&&(this.$options.methods.handleValidate.call(this,"muDynamic"),e+=1),this.isValid==e){var t=this.oneField,r={label:t.label,name:t.name,type:t.type};"input"!=t.type&&(r.option=JSON.parse(l()(this.inputDynamic.items)));var s={};r.rules={},""!=t.rules&&("regexp"===t.rules?(s.pattern=new RegExp(t.pattern),s.message=t.patternMess||"不符合规则"):s.type=t.rules),"checkbox"===t.type&&(s.type="array",s.min=1,s.message="至少选择一个"),["date","datetime","time"].includes(t.type)&&(s.type="date"),""!==t.min&&(s.min=t.min,"string"!=t.rules?s.message=this.validateMess[t.rules]+",数值不能低于"+t.min:s.message="长度至少"+t.min),""!==t.max&&(s.max=t.max,"string"!=t.rules?(s.message?s.message+=",":s.message+=this.validateMess[t.rules]+",数值",s.message+="不能高于"+t.max):s.message="长度不能超过"+t.max),["input","textarea"].includes(t.type)?s.trigger="blur":s.trigger="change",["integer","float","number"].includes(t.rules)?r.number=1:r.number=0,"1"===t.require&&(r.rules={required:!0,message:"必填"}),s.message||!this.validateMess[t.rules]&&!this.validateMess[t.type]||(s.message=this.validateMess[t.rules]||this.validateMess[t.type]),a()(r.rules,s),""!==t.format&&(r.format=t.format),"textarea"===t.type&&(r.rows=parseInt(t.rows)),"checkbox"===t.type?r.value=[]:r.value="",this.formDynamic.items.push(r),this.oneField.rules="",this.inputDynamic.items=[{value:"",text:""}],this.$refs.regexpForm.resetFields(),this.$refs.newForm.resetFields()}this.isValid=0},handleRemove:function(e){this.formDynamic.items.splice(e,1)},inputRemove:function(e){this.inputDynamic.items.splice(e,1)},inputAdd:function(){this.inputDynamic.items.push({value:"",text:""})},resetRegexp:function(){!this.oneField.type||this.noMuli.includes(this.oneField.type)?this.isMuli=!1:this.isMuli=!0,this.oneField.rules="",this.inputDynamic.items=[{value:"",text:""}],this.$refs.muDynamic.resetFields()},selectRules:function(){this.$refs.regexpForm.resetFields()},selectTime:function(){this.oneField.format=this.format[this.oneField.date]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(58),a=r.n(s);t.default={data:function(){return{}},components:{MyForm:a.a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"login",data:function(){return{msg:"Welcome to Your Login Page",formItem:{user:"",password:""},ruleInline:{user:[{message:"请填写用户名",trigger:"blur"}],password:[{message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6位",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(localStorage.setItem("name",t.formItem.user),localStorage.setItem("isLogin","0"),t.$Message.success("提交成功!"),t.$router.push("/home")):t.$Message.error("表单验证失败!")})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),a=r(15),n=r.n(a),l=r(12),i=r(14),o=r.n(i),u=r(13);r.n(u);s.default.config.productionTip=!1,s.default.use(o.a),new s.default({el:"#app",router:l.a,template:"<App/>",components:{App:n.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,r){function s(e){r(54)}var a=r(0)(r(17),r(64),s,"data-v-c12d4600",null);e.exports=a.exports},function(e,t,r){function s(e){r(51)}var a=r(0)(r(18),r(61),s,"data-v-4567b415",null);e.exports=a.exports},function(e,t,r){function s(e){r(53)}var a=r(0)(r(19),r(63),s,"data-v-7077cc62",null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new-form"},[r("div",{staticClass:"content"},[r("my-form")],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("Row",{attrs:{id:"inner",type:"flex",justify:"center",align:"middle"}},[r("Col",{attrs:{span:"24"}},[r("h1",[e._v(e._s(e.msg))]),e._v(" "),r("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleInline,"label-width":80}},[r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"8"}},[r("Form-item",{attrs:{label:"用户名",prop:"user"}},[r("Input",{attrs:{type:"text",size:"large",placeholder:"Username"},model:{value:e.formItem.user,callback:function(t){e.$set(e.formItem,"user",t)},expression:"formItem.user"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1)],1)],1),e._v(" "),r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"8"}},[r("Form-item",{attrs:{prop:"password",label:"密码"}},[r("Input",{attrs:{type:"password",size:"large",placeholder:"Password"},model:{value:e.formItem.password,callback:function(t){e.$set(e.formItem,"password",t)},expression:"formItem.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1)],1)],1),e._v(" "),r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"4"}},[r("Form-item",[r("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("formItem")}}},[e._v("登录")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"myForm"}},[r("Row",[r("Col",{staticStyle:{"border-right":"1px solid #eee","padding-right":"20px"},attrs:{span:"8"}},[r("h3",{staticStyle:{"text-align":"left"}},[e._v("新增表单:")]),e._v(" "),r("Form",{ref:"newForm",attrs:{id:"newForm","label-position":"right",model:e.oneField,"label-width":85}},[r("Form-item",{attrs:{label:"标签",prop:"label",rules:{required:!0,max:20,message:"请输入不超过长度20的文字",trigger:"blur"}}},[r("Input",{attrs:{type:"text"},model:{value:e.oneField.label,callback:function(t){e.$set(e.oneField,"label",t)},expression:"oneField.label"}})],1),e._v(" "),r("Form-item",{attrs:{label:"字段名称",prop:"name",rules:{required:!0,pattern:/^[A-Za-z]+$/,max:20,message:"只能输入长度不超过20的英文字母",trigger:"blur"}}},[r("Input",{attrs:{type:"text",placeholder:"非中文"},model:{value:e.oneField.name,callback:function(t){e.$set(e.oneField,"name",t)},expression:"oneField.name"}})],1),e._v(" "),r("Form-item",{attrs:{label:"类型",prop:"type",rules:{required:!0,message:"不能为空",trigger:"change"}}},[r("Select",{attrs:{placeholder:"请选择"},on:{"on-change":e.resetRegexp},model:{value:e.oneField.type,callback:function(t){e.$set(e.oneField,"type",t)},expression:"oneField.type"}},e._l(e.selectMess,function(e,t){return r("Option",{key:t,attrs:{value:t,label:e}})}))],1),e._v(" "),r("Form-item",{directives:[{name:"show",rawName:"v-show",value:"textarea"==e.oneField.type,expression:"oneField.type=='textarea'"}],attrs:{label:"文本域行数",prop:"rows",rules:{required:!0,type:"integer",message:"请输入数字",trigger:"blur"}}},[r("Input-number",{attrs:{min:1},model:{value:e.oneField.rows,callback:function(t){e.$set(e.oneField,"rows",t)},expression:"oneField.rows"}})],1),e._v(" "),r("Form-item",{attrs:{label:"是否必填",prop:"require",rules:{required:!0,message:"不能为空",trigger:"change"}}},[r("Radio-group",{model:{value:e.oneField.require,callback:function(t){e.$set(e.oneField,"require",t)},expression:"oneField.require"}},[r("Radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),r("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),e._v(" "),r("Form-item",{directives:[{name:"show",rawName:"v-show",value:"input"==e.oneField.type,expression:"oneField.type=='input'"}],attrs:{prop:"rules",label:"验证规则"}},[r("Select",{attrs:{placeholder:"请选择"},on:{"on-change":e.selectRules},model:{value:e.oneField.rules,callback:function(t){e.$set(e.oneField,"rules",t)},expression:"oneField.rules"}},e._l(e.typeMess,function(e,t){return r("Option",{key:t,attrs:{value:t,label:e}})}))],1),e._v(" "),r("Button",{attrs:{type:"primary",icon:"plus-round"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),r("Form",{directives:[{name:"show",rawName:"v-show",value:e.isMuli,expression:"isMuli"}],ref:"muDynamic",attrs:{id:"muDynamic","label-position":"right",model:e.inputDynamic,"label-width":85}},e._l(e.inputDynamic.items,function(t,s){return r("Form-item",{key:s,attrs:{label:"选项"+(s+1)}},[r("Row",[r("Col",{attrs:{span:"9"}},[r("Form-item",{attrs:{prop:"items."+s+"text"}},[r("Input",{attrs:{type:"text",placeholder:"名称"},model:{value:t.text,callback:function(r){e.$set(t,"text",r)},expression:"item.text"}})],1)],1),e._v(" "),r("Col",{attrs:{span:"9",offset:"1"}},[r("Form-item",{attrs:{prop:"items."+s+"value"}},[r("Input",{attrs:{type:"text",placeholder:"值"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})],1)],1),e._v(" "),r("Col",{attrs:{span:"4",offset:"1"}},[0!=s?r("Button",{attrs:{type:"ghost"},on:{click:function(t){e.inputRemove(s)}}},[e._v("删除")]):e._e(),e._v(" "),0==s?r("Button",{attrs:{type:"dashed",icon:"plus-round"},on:{click:e.inputAdd}},[e._v("新增")]):e._e()],1)],1)],1)})),e._v(" "),r("Form",{directives:[{name:"show",rawName:"v-show",value:""!=e.oneField.rules,expression:"oneField.rules!=''"}],ref:"regexpForm",attrs:{id:"regexpForm",model:e.oneField,"label-width":85}},[r("Form-item",{directives:[{name:"show",rawName:"v-show",value:"string"==e.oneField.rules,expression:"oneField.rules=='string'"}],attrs:{label:"文本最大长度",prop:"max",rules:{type:"integer",message:"不符合规则",trigger:"blur"}}},[r("Row",[r("Col",{attrs:{span:"24"}},[r("Input",{attrs:{type:"text",number:""},model:{value:e.oneField.max,callback:function(t){e.$set(e.oneField,"max",t)},expression:"oneField.max"}})],1)],1)],1),e._v(" "),r("Form-item",{directives:[{name:"show",rawName:"v-show",value:"number"==e.oneField.rules||"integer"==e.oneField.rules||"float"==e.oneField.rules,expression:"oneField.rules=='number'||oneField.rules=='integer'||oneField.rules=='float'"}],attrs:{label:"取值范围"}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("Form-item",{attrs:{prop:"min",rules:{type:""+e.oneField.rules,message:"不符合规则",trigger:"blur"}}},[r("Input",{attrs:{type:"text",placeholder:"最小值",number:""},model:{value:e.oneField.min,callback:function(t){e.$set(e.oneField,"min",t)},expression:"oneField.min"}})],1)],1),e._v(" "),r("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("Form-item",{attrs:{prop:"max",rules:{type:""+e.oneField.rules,message:"不符合规则",trigger:"blur"}}},[r("Input",{attrs:{type:"text",placeholder:"最大值",number:""},model:{value:e.oneField.max,callback:function(t){e.$set(e.oneField,"max",t)},expression:"oneField.max"}})],1)],1)],1)],1),e._v(" "),r("Row",{directives:[{name:"show",rawName:"v-show",value:"regexp"==e.oneField.rules,expression:"oneField.rules=='regexp'"}]},[r("Col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"正则表达式",prop:"pattern",rules:{type:"regexp",required:!0,message:"请输入正则表达式",trigger:"blur"}}},[r("Input",{attrs:{type:"text"},model:{value:e.oneField.pattern,callback:function(t){e.$set(e.oneField,"pattern",t)},expression:"oneField.pattern"}})],1)],1),e._v(" "),r("Col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"规则提示",prop:"patternMess",rules:{required:!0,message:"最多30字",max:30,trigger:"blur"}}},[r("Input",{attrs:{type:"text"},model:{value:e.oneField.patternMess,callback:function(t){e.$set(e.oneField,"patternMess",t)},expression:"oneField.patternMess"}})],1)],1)],1)],1)],1),e._v(" "),r("Col",{staticStyle:{"padding-left":"20px"},attrs:{span:"16"}},[r("h3",{staticStyle:{"text-align":"left"}},[e._v("表单预览:")]),e._v(" "),r("Form",{ref:"formDynamic",attrs:{id:"formDynamic","label-position":"right",model:e.formDynamic,"label-width":85}},[e._l(e.formDynamic.items,function(t,s){return r("Form-item",{key:t.name,attrs:{label:t.label,prop:"items."+s+".value",rules:t.rules}},[r("Row",[r("Col",{attrs:{span:"12"}},["input"==t.type&&1==t.number?r("Input",{attrs:{type:"text",placeholder:"请输入...",number:!0},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):e._e(),e._v(" "),0==t.number&&"input"==t.type?r("Input",{attrs:{type:"text",placeholder:"请输入..."},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):e._e(),e._v(" "),"textarea"==t.type?r("Input",{attrs:{type:"textarea",rows:t.rows,placeholder:"请输入..."},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):e._e(),e._v(" "),"select"==t.type?r("Select",{model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}},e._l(t.option,function(t,s){return r("Option",{key:s,attrs:{value:t.value}},[e._v(e._s(t.text))])})):e._e(),e._v(" "),"checkbox"==t.type?r("Checkbox-group",{model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}},e._l(t.option,function(t,s){return r("Checkbox",{key:s,attrs:{label:t.value}},[r("span",[e._v(e._s(t.text))])])})):e._e(),e._v(" "),"radio"==t.type?r("Radio-group",{model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}},e._l(t.option,function(t,s){return r("Radio",{key:s,attrs:{label:t.value}},[r("span",[e._v(e._s(t.text))])])})):e._e(),e._v(" "),"date"==t.type||"datetime"==t.type?r("Date-picker",{attrs:{type:t.type,format:e.format[t.type],placeholder:e.format[t.type]}}):e._e(),e._v(" "),"time"==t.type?r("Time-picker",{attrs:{type:"time",format:e.format[t.type],placeholder:e.format[t.type]}}):e._e()],1),e._v(" "),r("Col",{attrs:{span:"4",offset:"1"}},[r("Button",{attrs:{type:"ghost"},on:{click:function(t){e.handleRemove(s)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),r("Form-item",[r("Row",[r("Col",{attrs:{span:"6"}},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formDynamic")}}},[e._v("提交")]),e._v(" "),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){e.handleReset("formDynamic")}}},[e._v("重置")])],1)],1)],1)],2)],1)],1)],1)},staticRenderFns:[]}}],[20]);
//# sourceMappingURL=app.28ed017eaa0490f930a2.js.map
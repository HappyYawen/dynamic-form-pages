webpackJsonp([1],[,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),s=a(61),n=a(56),i=a.n(n),l=a(55),o=a.n(l);r.default.use(s.a);var u;t.a=u=new s.a({routes:[{path:"/",name:"login",component:i.a}]}),u.beforeEach(function(e,t,a){"login"===e.name?a():"0"===localStorage.getItem("isLogin")?(u.addRoutes([{path:"/home/newForm",name:"newForm",component:o.a}]),localStorage.setItem("isLogin","1"),console.log(u.currentRoute),a("/home/newForm")):a()})},function(e,t){},,function(e,t,a){function r(e){a(51)}var s=a(0)(a(15),a(58),r,null,null);e.exports=s.exports},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(21),s=a.n(r),n=a(20),i=a.n(n);t.default={name:"myForm",data:function(){return{isMuli:!1,isValid:0,noMuli:["input","textarea","date","datetime","time"],validateMess:{email:"请输入正确的邮箱",url:"请输入合法链接",date:"请输入正确的日期",datetime:"请输入正确的日期",time:"请输入正确的时间",float:"请输入正确的浮点数",integer:"请输入整数",number:"请输入数字"},format:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"},oneField:{label:"",name:"",type:"",require:"0",rules:"",min:"",max:"",rows:3,format:"",pattern:"",patternMess:""},formDynamic:{items:[{label:"爱好",name:"favorite",type:"checkbox",rules:{required:!0,type:"array",message:"必填",min:1,trigger:"change"},option:[{text:"aaa",value:1},{text:"bbb",value:2}],value:[]}]},inputDynamic:{items:[{text:"",value:""}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){return console.log(t.formDynamic),e?t.$Message.success("提交成功!"):t.$Message.error("表单验证失败!"),!1})},handleValidate:function(e){var t=this;return this.$refs[e].validate(function(e){e&&(t.isValid+=1)})},handleReset:function(e){this.$refs[e].resetFields()},handleAdd:function(){var e=1;if(this.$options.methods.handleValidate.bind(this)("newForm"),"show"==this.$refs.regexpForm.$el.style.display&&(this.$options.methods.handleValidate.bind(this)("regexpForm"),e+=1),"show"==this.$refs.muDynamic.$el.style.display&&(this.$options.methods.handleValidate.bind(this)("muDynamic"),e+=1),this.isValid==e){var t=this.oneField,a={label:t.label,name:t.name,type:t.type};"input"!=t.type&&(a.option=JSON.parse(i()(this.inputDynamic.items)));var r={};a.rules={},""!=t.rules&&("regexp"==t.rules?(r.pattern=new RegExp(t.pattern),r.message=t.patternMess||"不符合规则"):r.type=t.rules),"checkbox"==t.type&&(r.type="array",r.min=1,r.message="至少选择一个"),["date","datetime","time"].indexOf(t.type)>-1&&(r.type="date"),""!=t.min&&(r.min=t.min,"string"!=t.rules?r.message=this.validateMess[t.rules]+",数值不能低于"+t.min:r.message="长度至少"+t.min),""!=t.max&&(r.max=t.max,"string"!=t.rules?(r.message?r.message+=",":r.message+=this.validateMess[t.rules]+",数值",r.message+="不能高于"+t.max):r.message="长度不能超过"+t.max),-1==["input","textarea"].indexOf(t.type)?r.trigger="change":r.trigger="blur",["integer","float","number"].indexOf(t.rules)>-1?a.number=1:a.number=0,"1"==t.require&&(a.rules={required:!0,message:"必填"}),r.message||!this.validateMess[t.rules]&&!this.validateMess[t.type]||(r.message=this.validateMess[t.rules]||this.validateMess[t.type]),s()(a.rules,r),""!=t.format&&(a.format=t.format),"textarea"===t.type&&(a.rows=parseInt(t.rows)),"checkbox"==t.type?a.value=[]:a.value="",this.formDynamic.items.push(a),this.oneField.rules="",this.inputDynamic.items=[{value:"",text:""}],this.$refs.regexpForm.resetFields(),this.$refs.newForm.resetFields(),console.log(a)}this.isValid=0},handleRemove:function(e){this.formDynamic.items.splice(e,1)},inputRemove:function(e){this.inputDynamic.items.splice(e,1)},inputAdd:function(){this.inputDynamic.items.push({value:"",text:""})},resetRegexp:function(){!this.oneField.type||this.noMuli.indexOf(this.oneField.type)>-1?this.isMuli=!1:this.isMuli=!0,this.oneField.rules="",this.inputDynamic.items=[{value:"",text:""}],this.$refs.muDynamic.resetFields()},selectRules:function(){this.$refs.regexpForm.resetFields()},selectTime:function(){this.oneField.format=this.format[this.oneField.date],console.log(this.oneField.format)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(54),s=a.n(r);t.default={data:function(){return{}},components:{MyForm:s.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"login",data:function(){return{msg:"Welcome to Your Login Page",formItem:{user:"",password:""},ruleInline:{user:[{message:"请填写用户名",trigger:"blur"}],password:[{message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6位",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(localStorage.setItem("name",t.formItem.user),localStorage.setItem("isLogin","0"),t.$Message.success("提交成功!"),t.$router.push("/home")):t.$Message.error("表单验证失败!")})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=a(14),n=a.n(s),i=a(11),l=a(13),o=a.n(l),u=a(12);a.n(u);r.default.config.productionTip=!1,r.default.use(o.a),new r.default({el:"#app",router:i.a,template:"<App/>",components:{App:n.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){function r(e){a(53)}var s=a(0)(a(16),a(60),r,"data-v-c12d4600",null);e.exports=s.exports},function(e,t,a){function r(e){a(50)}var s=a(0)(a(17),a(57),r,"data-v-4567b415",null);e.exports=s.exports},function(e,t,a){function r(e){a(52)}var s=a(0)(a(18),a(59),r,"data-v-7077cc62",null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-form"},[a("div",{staticClass:"content"},[a("my-form")],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("Row",{attrs:{id:"inner",type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{span:"24"}},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleInline,"label-width":80}},[a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"用户名",prop:"user"}},[a("Input",{attrs:{type:"text",size:"large",placeholder:"Username"},model:{value:e.formItem.user,callback:function(t){e.formItem.user=t},expression:"formItem.user"}},[a("Icon",{attrs:{type:"ios-person-outline"},slot:"prepend"})],1)],1)],1)],1),e._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"8"}},[a("Form-item",{attrs:{prop:"password",label:"密码"}},[a("Input",{attrs:{type:"password",size:"large",placeholder:"Password"},model:{value:e.formItem.password,callback:function(t){e.formItem.password=t},expression:"formItem.password"}},[a("Icon",{attrs:{type:"ios-locked-outline"},slot:"prepend"})],1)],1)],1)],1),e._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"4"}},[a("Form-item",[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("formItem")}}},[e._v("登录")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"myForm"}},[a("Form",{ref:"formDynamic",attrs:{id:"formDynamic","label-position":"right",model:e.formDynamic,"label-width":85}},[e._l(e.formDynamic.items,function(t,r){return a("Form-item",{key:t.name,attrs:{label:t.label,prop:"items."+r+".value",rules:t.rules}},[a("Row",[a("Col",{attrs:{span:"9"}},["input"==t.type&&1==t.number?a("Input",{attrs:{type:"text",placeholder:"请输入...",number:!0},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}}):e._e(),e._v(" "),0==t.number&&"input"==t.type?a("Input",{attrs:{type:"text",placeholder:"请输入..."},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}}):e._e(),e._v(" "),"textarea"==t.type?a("Input",{attrs:{type:"textarea",rows:t.rows,placeholder:"请输入..."},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}}):e._e(),e._v(" "),"select"==t.type?a("Select",{model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}},e._l(t.option,function(t,r){return a("Option",{key:t,attrs:{value:t.value}},[e._v(e._s(t.text))])})):e._e(),e._v(" "),"checkbox"==t.type?a("Checkbox-group",{model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}},e._l(t.option,function(t,r){return a("Checkbox",{key:t,attrs:{label:t.value}},[a("span",[e._v(e._s(t.text))])])})):e._e(),e._v(" "),"radio"==t.type?a("Radio-group",{model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}},e._l(t.option,function(t,r){return a("Radio",{key:t,attrs:{label:t.value}},[a("span",[e._v(e._s(t.text))])])})):e._e(),e._v(" "),"date"==t.type||"datetime"==t.type?a("Date-picker",{attrs:{type:t.type,format:e.format[t.type],placeholder:e.format[t.type]}}):e._e(),e._v(" "),"time"==t.type?a("Time-picker",{attrs:{type:"time",format:e.format[t.type],placeholder:e.format[t.type]}}):e._e()],1),e._v(" "),a("Col",{attrs:{span:"4",offset:"1"}},[a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.handleRemove(r)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formDynamic")}}},[e._v("提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){e.handleReset("formDynamic")}}},[e._v("重置")])],1)],2),e._v(" "),a("Form",{ref:"newForm",attrs:{id:"newForm","label-position":"right",model:e.oneField,"label-width":85}},[a("Row",{staticClass:"add-form"},[a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"标签",prop:"label",rules:{required:!0,max:20,message:"请输入不超过长度20的文字",trigger:"blur"}}},[a("Input",{attrs:{type:"text"},model:{value:e.oneField.label,callback:function(t){e.oneField.label=t},expression:"oneField.label"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"字段名称",prop:"name",rules:{required:!0,pattern:/^[A-Za-z]+$/,max:20,message:"只能输入长度不超过20的英文字母",trigger:"blur"}}},[a("Input",{attrs:{type:"text",placeholder:"非中文"},model:{value:e.oneField.name,callback:function(t){e.oneField.name=t},expression:"oneField.name"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"类型",prop:"type",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("Select",{attrs:{placeholder:"请选择"},on:{"on-change":e.resetRegexp},model:{value:e.oneField.type,callback:function(t){e.oneField.type=t},expression:"oneField.type"}},[a("Option",{attrs:{value:"input"}},[e._v("文本框")]),e._v(" "),a("Option",{attrs:{value:"textarea"}},[e._v("文本域")]),e._v(" "),a("Option",{attrs:{value:"select"}},[e._v("下拉框")]),e._v(" "),a("Option",{attrs:{value:"radio"}},[e._v("单选框")]),e._v(" "),a("Option",{attrs:{value:"checkbox"}},[e._v("多选框")]),e._v(" "),a("Option",{attrs:{value:"date"}},[e._v("日期")]),e._v(" "),a("Option",{attrs:{value:"time"}},[e._v("时间")]),e._v(" "),a("Option",{attrs:{value:"datetime"}},[e._v("日期+时间")])],1)],1)],1),e._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:"textarea"==e.oneField.type,expression:"oneField.type=='textarea'"}],attrs:{span:"4"}},[a("Form-item",{attrs:{label:"文本域行数",prop:"rows",rules:{required:!0,type:"integer",message:"请输入数字",trigger:"blur"}}},[a("Input-number",{attrs:{min:1},model:{value:e.oneField.rows,callback:function(t){e.oneField.rows=t},expression:"oneField.rows"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Form-item",{attrs:{label:"是否必填",prop:"require",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("Radio-group",{model:{value:e.oneField.require,callback:function(t){e.oneField.require=t},expression:"oneField.require"}},[a("Radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:"input"==e.oneField.type,expression:"oneField.type=='input'"}],attrs:{span:"4"}},[a("Form-item",{attrs:{prop:"rules",label:"验证规则"}},[a("Select",{attrs:{placeholder:"请选择"},on:{"on-change":e.selectRules},model:{value:e.oneField.rules,callback:function(t){e.oneField.rules=t},expression:"oneField.rules"}},[a("Option",{attrs:{value:"string"}},[e._v("字符串")]),e._v(" "),a("Option",{attrs:{value:"number"}},[e._v("数字")]),e._v(" "),a("Option",{attrs:{value:"integer"}},[e._v("整数")]),e._v(" "),a("Option",{attrs:{value:"float"}},[e._v("浮点数")]),e._v(" "),a("Option",{attrs:{value:"email"}},[e._v("email")]),e._v(" "),a("Option",{attrs:{value:"url"}},[e._v("url链接")]),e._v(" "),a("Option",{attrs:{value:"regexp"}},[e._v("正则表达式")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"2",offset:"1"}},[a("Button",{attrs:{type:"primary",icon:"plus-round"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),a("Form",{directives:[{name:"show",rawName:"v-show",value:e.isMuli,expression:"isMuli"}],ref:"muDynamic",attrs:{id:"muDynamic","label-position":"right",model:e.inputDynamic,"label-width":85}},e._l(e.inputDynamic.items,function(t,r){return a("Form-item",{key:t,attrs:{label:"选项"+(r+1)}},[a("Row",[a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{prop:"items."+r+"text"}},[a("Input",{attrs:{type:"text",placeholder:"名称"},model:{value:t.text,callback:function(e){t.text=e},expression:"item.text"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"3",offset:"1"}},[a("Form-item",{attrs:{prop:"items."+r+"value"}},[a("Input",{attrs:{type:"text",placeholder:"值"},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"4",offset:"1"}},[0!=r?a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.inputRemove(r)}}},[e._v("删除")]):e._e(),e._v(" "),0==r?a("Button",{attrs:{type:"dashed",icon:"plus-round"},on:{click:e.inputAdd}},[e._v("新增")]):e._e()],1)],1)],1)})),e._v(" "),a("Form",{directives:[{name:"show",rawName:"v-show",value:""!=e.oneField.rules,expression:"oneField.rules!=''"}],ref:"regexpForm",attrs:{id:"regexpForm",model:e.oneField,"label-width":85}},[a("Form-item",{directives:[{name:"show",rawName:"v-show",value:"string"==e.oneField.rules,expression:"oneField.rules=='string'"}],attrs:{label:"文本最大长度",prop:"max",rules:{type:"integer",message:"不符合规则",trigger:"blur"}}},[a("Row",[a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{type:"text",number:""},model:{value:e.oneField.max,callback:function(t){e.oneField.max=t},expression:"oneField.max"}})],1)],1)],1),e._v(" "),a("Form-item",{directives:[{name:"show",rawName:"v-show",value:"number"==e.oneField.rules||"integer"==e.oneField.rules||"float"==e.oneField.rules,expression:"oneField.rules=='number'||oneField.rules=='integer'||oneField.rules=='float'"}],attrs:{label:"取值范围"}},[a("Row",[a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{prop:"min",rules:{type:""+e.oneField.rules,message:"不符合规则",trigger:"blur"}}},[a("Input",{attrs:{type:"text",placeholder:"最小值",number:""},model:{value:e.oneField.min,callback:function(t){e.oneField.min=t},expression:"oneField.min"}})],1)],1),e._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"1"}},[e._v("-")]),e._v(" "),a("Col",{attrs:{span:"3"}},[a("Form-item",{attrs:{prop:"max",rules:{type:""+e.oneField.rules,message:"不符合规则",trigger:"blur"}}},[a("Input",{attrs:{type:"text",placeholder:"最大值",number:""},model:{value:e.oneField.max,callback:function(t){e.oneField.max=t},expression:"oneField.max"}})],1)],1)],1)],1),e._v(" "),a("Row",{directives:[{name:"show",rawName:"v-show",value:"regexp"==e.oneField.rules,expression:"oneField.rules=='regexp'"}]},[a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"正则表达式",prop:"pattern",rules:{type:"regexp",required:!0,message:"请输入正则表达式",trigger:"blur"}}},[a("Input",{attrs:{type:"text"},model:{value:e.oneField.pattern,callback:function(t){e.oneField.pattern=t},expression:"oneField.pattern"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"规则提示",prop:"patternMess",rules:{required:!0,message:"最多30字",max:30,trigger:"blur"}}},[a("Input",{attrs:{type:"text"},model:{value:e.oneField.patternMess,callback:function(t){e.oneField.patternMess=t},expression:"oneField.patternMess"}})],1)],1)],1)],1)],1)},staticRenderFns:[]}}],[19]);
//# sourceMappingURL=app.f8364f31fec78e6f6b97.js.map